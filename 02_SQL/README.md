# 2.SQL

## 2.1 데이터베이스 모델링
- 데이터베이스 모델링이란 우리가 살고 있는 세상에서 사용되는 사물이나 작업을 DBMS의 데이터베이스 개체로 옮기기 위한 과정이다.
- 즉, 현실에서 쓰이는 것을 테이블로 변경하기 위한 작업이다.
- `데이터베이스 용어`
  - 데이터:하나하나의 단편적인 정보.
  - 테이블:회원이나 제품의 데이터를 입력하기 위해 표 형태로 표현한 것.
  - 데이터베이스:테이블이 저장되는 저장소.
  - DBMS:데이터베이스 관리 시스템 또는 소프트웨어.(MySQL, Oracle등등)
  - 열:테이블의 세로. 
  - 데이터 형식: 열에 저장될 데이터의 형식. 숫자나 문자
  - 행:실질적인 진짜 데이터. 행 데이터라고도 함.
  - 기본키:기본 키 열은 각 행을 구분하는 유일한 열이다.
  - SQL:DBMS에서 작업을 하기위한 구조화된 질의 언어.

## 2.2 데이터베이스의 시작과 끝
- 데이터베이스 만들기
- 테이블 만들기
- 데이터 입력하기
- 데이터 활용하기

## 2.3 데이터베이스 개체
- 데이터베이스에서는 테이블 외에 인덱스, 뷰, 스토어드 프로시저, 트리거, 함수, 커서 등의 개체도 필요하다.
- `인덱스`는 데이터를 조회할 때 결과가 나오는 속도를 획기적으로 빠르게 해준다.
- `뷰`는 테이블의 일부를 제한적으로 표현할 때 주로 사용한다.
- `스토어드 프로시저`는 SQL에서 프로그래밍이 가능하도록 해준다. 
- `트리거`는 잘못된 데이터가 들어가는 것을 미연에 방지한다.

### `인데스`
- 인덱스란 책의 제일 뒤에 수록되는 '찾아보기'와 비슷하다. 즉, 데이터를 조회하기 위해 걸리는 시간을 대폭 줄여준다.
- 인덱스는 열에 지정한다.
```sql
CREATE INDEX idx_member_name ON member(member_name);
```
- 위 쿼리문은 member테이블의 member_name 열에 인덱스를 지정하라는 의미이다.
- 인덱스 생성 여부아 따라 결과가 달라지는 것은 아니다.(소요되는 시간이 달라질 뿐이다.)
### `뷰`
- 뷰는 테이블과 상당히 동일한 성격의 데이터베이스 개체이다.
- 뷰를 활용하면 보안도 강화되고, SQL문도 간단하게 사용할 수 있다.
- 뷰는 '가상의 테이블'이다. 일반 사용자의 입장에서 테이블과 뷰를 구분할 수 없다.
- 뷰는 실제 데이터를 가지고 있지 않으며, 진짜 테이블에 링크된 개념이다.
```sql
CREATE VIEW member_view AS SELECT * FROM member;
```
- 위 쿼리문은 회원 테이블과 연결되는 회원 뷰(member_view)를 만든것이다.

### `스토어드 프로시저`
- 스토어드 프로시저를 통해 SQL 안에서도 일반 프로그래밍 언어처럼 코딩을 할 수 있다.
- 여러 개의 SQL 문을 하나로 묶어서 편리하게 사용할 수 있다.
- DELIMITER // ~ DELIMITER;문과 BEGIN , END 사이에 SQL문을 넣는다.
```sql
DELIMITER //
CREATE PROCEDURE myProc()
BEGIN
    SELECT * FROM member WHERE member_name = '나훈아';
    SELECT * FROM product WHERE product_name = '삼각김밥';
END //
DELIMITER ;
```
- 두 줄의 SQL문을 실행할 필요없이 스토어프 프로시저를 호출하기만 하면된다.
- 스토어드 프로시저를 호출하기 위해서 CALL문을 실행한다.
```sql
CALL myProc();
```
